{"version":3,"file":"vue.js","sources":["../src/utils/index.js","../src/global-api/index.js","../src/compile/parse.js","../src/compile/index.js","../src/observe/dep.js","../src/observe/array.js","../src/observe/index.js","../src/utils/next-tick.js","../src/observe/scheduler.js","../src/observe/watcher.js","../src/initState.js","../src/vdom/index.js","../src/vdom/patch.js","../src/lifecycle.js","../src/init.js","../src/utils/watch.js","../src/global-api/use.js","../src/index.js"],"sourcesContent":["export function isObject(data) {\r\n  return data !== null && typeof data === 'object'\r\n}\r\n\r\n// 定义生命周期\r\nexport const LIFECYCLE_HOOKS = [\r\n  'beforeCreate',\r\n  'created',\r\n  'beforeMount',\r\n  'mounted',\r\n  'beforeUpdate',\r\n  'updated',\r\n  'beforeDestroy',\r\n  'destroyed'\r\n]\r\n\r\nlet strats = {} // 存放所有策略\r\n\r\nLIFECYCLE_HOOKS.forEach((hook) => {\r\n  // 创建生命周期的合并策略\r\n  strats[hook] = function (parentVal, childVal) {\r\n    if (childVal) {\r\n      if (parentVal) {\r\n        return parentVal.concat(childVal)\r\n      } else {\r\n        if (Array.isArray(childVal)) {\r\n          return childVal\r\n        } else {\r\n          return [childVal]\r\n        }\r\n      }\r\n    } else {\r\n      return parentVal\r\n    }\r\n  }\r\n})\r\n\r\nstrats.components = function (parentVal, childVal) {\r\n  const res = Object.create(parentVal)\r\n  if (childVal) {\r\n    for (let k in childVal) {\r\n      res[k] = childVal[k]\r\n    }\r\n  }\r\n  return res\r\n}\r\n\r\nexport function mergeOptions(parentVal, childVal) {\r\n  // console.log(parentVal, childVal)\r\n  let options = {}\r\n  for (let key in parentVal) {\r\n    mergeFiled(key)\r\n  }\r\n  for (let key in childVal) {\r\n    if (!parentVal.hasOwnProperty(key)) {\r\n      mergeFiled(key)\r\n    }\r\n  }\r\n\r\n  function mergeFiled(key) {\r\n    if (strats[key]) {\r\n      options[key] = strats[key](parentVal[key], childVal[key])\r\n    } else {\r\n      // 默认合并方法：优先使用新值覆盖老值\r\n      options[key] = childVal[key] || parentVal[key]\r\n    }\r\n  }\r\n  return options\r\n}\r\n\r\nexport function isReservedTag(tagName) {\r\n  // 定义常见标签\r\n  let str =\r\n    'html,body,base,head,link,meta,style,title,' +\r\n    'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\r\n    'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\r\n    'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\r\n    's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\r\n    'embed,object,param,source,canvas,script,noscript,del,ins,' +\r\n    'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\r\n    'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\r\n    'output,progress,select,textarea,' +\r\n    'details,dialog,menu,menuitem,summary,' +\r\n    'content,element,shadow,template,blockquote,iframe,tfoot'\r\n  let obj = {}\r\n  str.split(',').forEach((tag) => {\r\n    obj[tag] = true\r\n  })\r\n  return obj[tagName]\r\n}\r\n\r\n// 伪数组转真数组\r\nexport function toArray(list, start) {\r\n  start = start || 0\r\n  let i = list.length - start\r\n  const res = new Array(i)\r\n  while (i--) {\r\n    res[i] = list[i + start]\r\n  }\r\n  return res\r\n}\r\n","import { isObject, mergeOptions } from '../utils/index'\r\n\r\nexport function initGlobalAPI(Vue) {\r\n  // 全局属性：Vue.options\r\n  // 功能：存放 mixin, component, filte, directive 属性\r\n  Vue.options = {\r\n    _base: Vue\r\n  }\r\n  Vue.options.components = {}\r\n  Vue.mixin = function (options) {\r\n    this.options = mergeOptions(this.options, options)\r\n    // console.log(this.options)\r\n    return this\r\n  }\r\n  let cid = 0\r\n  Vue.extend = function (options) {\r\n    const Super = this\r\n    const Sub = function (options) {\r\n      this.__init(options)\r\n    }\r\n    Sub.cid = cid++\r\n    Sub.prototype = Object.create(Super.prototype)\r\n    // Object.create 会产生一个新的实例作为子类的原型，导致constructor指向错误\r\n    Sub.prototype.constructor = Sub\r\n    Sub.options = mergeOptions(this.options, options)\r\n    return Sub\r\n  }\r\n  Vue.component = function (id, definition) {\r\n    if (typeof definition !== 'function') {\r\n      definition = Vue.extend(definition)\r\n    }\r\n    Vue.options.components[id] = definition\r\n  }\r\n}\r\n","// 标签名\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\r\n// <span:xx>\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\r\n// 开始标签\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`)\r\n// 结束标签\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`)\r\n// 属性  第一个分组是属性的key  value在分组 3/4/5中\r\nconst attribute =\r\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\r\n// <br/>\r\nconst startTagClose = /^\\s*(\\/?)>/\r\n// {{}}\r\nexport const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\nexport function parseHTML(html) {\r\n  const ELEMENT_TYPE = 1\r\n  const TEXT_TYPE = 3\r\n  const stack = []\r\n  let root\r\n  let currentParent //永远指向栈中的最后一个\r\n  function createASTElement(tag, attrs) {\r\n    return {\r\n      tag,\r\n      type: ELEMENT_TYPE,\r\n      children: [],\r\n      attrs,\r\n      parent: null\r\n    }\r\n  }\r\n  function start(tag, attrs) {\r\n    let node = createASTElement(tag, attrs)\r\n    if (!root) {\r\n      root = node\r\n    }\r\n    if (currentParent) {\r\n      node.parent = currentParent\r\n      currentParent.children.push(node)\r\n    }\r\n    stack.push(node)\r\n    currentParent = node\r\n  }\r\n  function end() {\r\n    stack.pop()\r\n    currentParent = stack[stack.length - 1]\r\n  }\r\n  function chars(text) {\r\n    text = text.replace(/\\s/g, '')\r\n    if (text) {\r\n      currentParent.children.push({\r\n        type: TEXT_TYPE,\r\n        text,\r\n        parent: currentParent\r\n      })\r\n    }\r\n  }\r\n  function advance(n) {\r\n    html = html.substring(n)\r\n  }\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen)\r\n    // console.log('start', start)\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: []\r\n      }\r\n      advance(start[0].length)\r\n      // 如果不是开始标签的结束 就一直匹配下去\r\n      let attr, end\r\n      while (\r\n        !(end = html.match(startTagClose)) &&\r\n        (attr = html.match(attribute))\r\n      ) {\r\n        match.attrs.push({\r\n          name: attr[1],\r\n          value: attr[3] || attr[4] || attr[5]\r\n        })\r\n        advance(attr[0].length)\r\n      }\r\n      if (end) {\r\n        advance(end[0].length)\r\n      }\r\n      return match\r\n    }\r\n    return false\r\n  }\r\n  while (html) {\r\n    let textEnd = html.indexOf('<')\r\n    if (textEnd === 0) {\r\n      // 标签\r\n      const startTagMatch = parseStartTag()\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n        continue\r\n      }\r\n      const endTagMatch = html.match(endTag)\r\n      if (endTagMatch) {\r\n        advance(endTagMatch[0].length)\r\n        end(endTagMatch[2])\r\n        continue\r\n      }\r\n    }\r\n    if (textEnd > 0) {\r\n      let text = html.substring(0, textEnd)\r\n      if (text) {\r\n        chars(text)\r\n        advance(text.length)\r\n      }\r\n    }\r\n  }\r\n  return root\r\n}\r\n","import { defaultTagRE, parseHTML } from './parse'\r\n\r\nfunction gen(node) {\r\n  if (node.type === 1) {\r\n    return codegen(node)\r\n  } else {\r\n    let text = node.text\r\n    if (!defaultTagRE.test(text)) {\r\n      // 纯文本\r\n      return `_v(${JSON.stringify(text)})`\r\n    } else {\r\n      //有插值表达式\r\n      defaultTagRE.lastIndex = 0\r\n      let match\r\n      let lastIndex = 0\r\n      let tokens = []\r\n      while ((match = defaultTagRE.exec(text))) {\r\n        let index = match.index\r\n        if (index > lastIndex) {\r\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)))\r\n        }\r\n        tokens.push(`_s(${match[1].trim()})`)\r\n        lastIndex = index + match[0].length\r\n      }\r\n      if (lastIndex < text.length) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n      }\r\n      return `_v(${tokens.join('+')})`\r\n    }\r\n  }\r\n}\r\n\r\nfunction genChildren(children) {\r\n  if (children) {\r\n    return children.map((child) => gen(child)).join(',')\r\n  }\r\n}\r\n\r\nfunction genProps(attrs) {\r\n  let str = ''\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i]\r\n    if (attr.name == 'style') {\r\n      let obj = {}\r\n      attr.value.split(';').forEach((item) => {\r\n        let [key, value] = item.split(':')\r\n        obj[key] = value\r\n      })\r\n      attr.value = obj\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0, -1)}}`\r\n}\r\n\r\nfunction codegen(ast) {\r\n  let children = genChildren(ast.children)\r\n  let code = `_c('${ast.tag}',${\r\n    ast.attrs.length > 0 ? genProps(ast.attrs) : 'null'\r\n  }${ast.children.length ? `,${children}` : ''})`\r\n  return code\r\n}\r\n\r\nexport function compileToFunction(el) {\r\n  let ast = parseHTML(el)\r\n  // console.log(ast)\r\n  let code = codegen(ast)\r\n  // console.log(code)\r\n  code = `with(this){return ${code}}`\r\n  // console.log('code', code)\r\n  let render = new Function(code)\r\n  return render\r\n}\r\n","let id = 0\r\nclass Dep {\r\n  constructor() {\r\n    this.id = id++\r\n    this.subs = []\r\n  }\r\n  depend() {\r\n    Dep.target.addDep(this)\r\n  }\r\n  addSub(watcher) {\r\n    this.subs.push(watcher)\r\n  }\r\n  notify() {\r\n    this.subs.forEach((watcher) => watcher.update())\r\n  }\r\n}\r\n\r\nDep.target = null\r\n\r\n// 用栈来保存watcher\r\nconst targetStack = []\r\n\r\nexport function pushTarget(watcher) {\r\n  targetStack.push(watcher)\r\n  Dep.target = watcher // Dep.target指向当前watcher\r\n}\r\nexport function popTarget() {\r\n  targetStack.pop() // 当前watcher出栈 拿到上一个watcher\r\n  Dep.target = targetStack[targetStack.length - 1]\r\n}\r\n\r\nexport default Dep\r\n","let oldArrayMethods = Array.prototype\r\n\r\nexport const ArrayMethods = Object.create(oldArrayMethods)\r\nlet methods = ['push', 'pop', 'unshift', 'shift', 'splice', 'sort', 'reverse']\r\n\r\nmethods.forEach((method) => {\r\n  ArrayMethods[method] = function (...args) {\r\n    let result = oldArrayMethods[method].call(this, ...args)\r\n    let ob = this.__ob__\r\n    let inserted // 新增的值\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift':\r\n        inserted = args\r\n        break\r\n      case 'splice':\r\n        inserted = args.slice(2)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    if (inserted) {\r\n      ob.observerArray(inserted)\r\n    }\r\n    ob.dep.notify()\r\n    return result\r\n  }\r\n})\r\n","import { isObject } from '../utils/index'\r\nimport { ArrayMethods } from './array'\r\nimport Dep from './dep'\r\n\r\nexport function observer(data) {\r\n  if (!isObject(data)) {\r\n    return //只对对象进行劫持\r\n  }\r\n  // if (data.__ob__ instanceof Observer) {\r\n  //   // 说明这个对象被代理过了\r\n  //   return data.__ob__\r\n  // }\r\n  return new Observer(data)\r\n}\r\n\r\nclass Observer {\r\n  constructor(value) {\r\n    this.dep = new Dep()\r\n    Object.defineProperty(value, '__ob__', {\r\n      enumerable: false,\r\n      value: this,\r\n      writable: true,\r\n      configurable: true\r\n    })\r\n    if (Array.isArray(value)) {\r\n      value.__proto__ = ArrayMethods\r\n      this.observerArray(value)\r\n    } else {\r\n      this.walk(value)\r\n    }\r\n  }\r\n  walk(data) {\r\n    let keys = Object.keys(data)\r\n    for (let i = 0; i < keys.length; i++) {\r\n      const key = keys[i]\r\n      defineReactive(data, key, data[key])\r\n    }\r\n  }\r\n  observerArray(data) {\r\n    for (let i = 0; i < data.length; i++) {\r\n      observer(data[i])\r\n    }\r\n  }\r\n}\r\nfunction dependArray(value) {\r\n  for (let i = 0; i < value.length; i++) {\r\n    let current = value[i]\r\n    current.__ob__ && current.__ob__.dep.depend()\r\n    if (Array.isArray(current)) {\r\n      dependArray(current)\r\n    }\r\n  }\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n  let childOb = observer(value)\r\n  let dep = new Dep()\r\n  Object.defineProperty(data, key, {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get() {\r\n      if (Dep.target) {\r\n        dep.depend()\r\n        if (childOb) {\r\n          childOb.dep.depend()\r\n          // 数组里面嵌套数组\r\n          if (Array.isArray(value)) {\r\n            dependArray(value)\r\n          }\r\n        }\r\n      }\r\n      return value\r\n    },\r\n    set(newVal) {\r\n      if (value === newVal) return\r\n      observer(newVal)\r\n      value = newVal\r\n      dep.notify()\r\n    }\r\n  })\r\n}\r\n\r\n// dep.depend ->\r\n//     Watcher.addDep(this)\r\n//       this.deps.push(dep) //watcher记住dep\r\n//       dep.addSub(wathcer) //dep 记住 watcher\r\n//           this.subs.push(watcher)\r\n\r\nexport function set(target, key, value) {\r\n  if (Array.isArray(target)) {\r\n    target.length = Math.max(target.length, key)\r\n    target.splice(key, 1, value)\r\n    return value\r\n  }\r\n  // 如果是对象本身的属性 则直接添加\r\n  if (key in target && !(key in Object.prototype)) {\r\n    target[key] = value\r\n    return value\r\n  }\r\n  const ob = target.__ob__\r\n  console.log(target)\r\n  // 如果对象本身就不是响应式 不需要将其定义成响应式属性\r\n  if (!ob) {\r\n    target[key] = value\r\n    return value\r\n  }\r\n  defineReactive(target, key, value)\r\n  ob.dep.notify()\r\n  return value\r\n}\r\n","let callBacks = []\r\nlet pending = false\r\n\r\nfunction flushCallbacks() {\r\n  let cbs = callBacks.slice(0)\r\n  pending = false\r\n  callBacks = []\r\n  cbs.forEach((cb) => cb())\r\n}\r\n\r\nlet timerFunc\r\nif (typeof Promise !== 'undefined') {\r\n  // 如果支持 Promise\r\n  const p = Promise.resolve()\r\n  timerFunc = () => {\r\n    p.then(flushCallbacks)\r\n  }\r\n} else if (typeof MutationObserver !== 'undefined') {\r\n  // MutationObserver 主要监听dom变化\r\n  let counter = 1\r\n  const observer = new MutationObserver(flushCallbacks)\r\n  const textNode = document.createTextNode(String(counter))\r\n  observer.observe(textNode, {\r\n    characterData: true\r\n  })\r\n  timerFunc = () => {\r\n    counter = (counter + 1) % 2\r\n    textNode.data = String(counter)\r\n    //counter变化    flushCallbacks执行\r\n  }\r\n} else if (setImmediate) {\r\n  timerFunc = () => {\r\n    setImmediate(flushCallbacks)\r\n  }\r\n} else {\r\n  timerFunc = () => {\r\n    setTimeout(flushCallbacks, 0)\r\n  }\r\n}\r\n\r\nexport function nextTick(cb) {\r\n  callBacks.push(cb)\r\n  if (!pending) {\r\n    pending = true\r\n    timerFunc()\r\n  }\r\n}\r\n","import { nextTick } from '../utils/next-tick'\r\n\r\nlet queue = []\r\nlet has = {}\r\nexport function queueWatcher(watcher) {\r\n  let id = watcher.id\r\n  if (!has[id]) {\r\n    queue.push(watcher)\r\n    has[id] = true\r\n    nextTick(flushSchedulerQueue)\r\n  }\r\n}\r\n\r\nfunction flushSchedulerQueue() {\r\n  let flushQueue = queue.slice(0)\r\n  flushQueue.forEach((q) => q.run())\r\n  queue = []\r\n  has = {}\r\n}\r\n","import { isObject } from '../utils/index'\r\nimport Dep, { popTarget, pushTarget } from './dep'\r\nimport { queueWatcher } from './scheduler'\r\n\r\nlet id = 0\r\n\r\nclass Watcher {\r\n  constructor(vm, exprOrFn, cb, options) {\r\n    this.id = id++\r\n    this.vm = vm\r\n    this.exprOrFn = exprOrFn\r\n    this.cb = cb\r\n    this.options = options\r\n    this.deps = []\r\n    this.depsId = new Set()\r\n    this.user = options.user\r\n    this.lazy = options.lazy\r\n    this.dirty = this.lazy\r\n    if (typeof exprOrFn === 'function') {\r\n      this.getter = exprOrFn\r\n    } else if (typeof exprOrFn === 'string') {\r\n      //用户watcher传过来的可能是一个字符串   类似a.a.a.a.b\r\n      this.getter = function () {\r\n        let path = exprOrFn.split('.')\r\n        let obj = vm\r\n        for (let i = 0; i < path.length; i++) {\r\n          obj = obj[path[i]]\r\n        }\r\n        return obj\r\n      }\r\n    }\r\n    this.value = this.lazy ? undefined : this.get()\r\n  }\r\n  get() {\r\n    // Dep.target = this\r\n    pushTarget(this)\r\n    let res = this.getter.call(this.vm)\r\n    // Dep.target = null\r\n    popTarget()\r\n    return res\r\n  }\r\n  evaluate() {\r\n    this.value = this.get()\r\n    this.dirty = false\r\n  }\r\n  depend() {\r\n    // 计算属性的watcher存储了依赖项的dep\r\n    let i = this.deps.length\r\n    while (i--) {\r\n      //调用依赖项的dep去收集渲染watcher\r\n      this.deps[i].depend()\r\n    }\r\n  }\r\n  addDep(dep) {\r\n    let id = dep.id\r\n    if (!this.depsId.has(id)) {\r\n      // 让watcher记住dep\r\n      this.deps.push(dep)\r\n      this.depsId.add(id)\r\n      // 让dep记住watcher\r\n      dep.addSub(this)\r\n    }\r\n  }\r\n  update() {\r\n    // console.log('更新ll')\r\n    // this.get()\r\n    // 异步更新\r\n    //queueWatcher(this)\r\n    if (this.lazy) {\r\n      this.dirty = true\r\n    } else {\r\n      queueWatcher(this)\r\n    }\r\n  }\r\n  run() {\r\n    console.log('更新')\r\n    // this.get()\r\n    let oldVal = this.value\r\n    let newVal = this.get()\r\n    this.value = newVal\r\n    if (this.user) {\r\n      if (newVal !== oldVal || isObject(newVal)) {\r\n        this.cb.call(this.vm, newVal, oldVal)\r\n      }\r\n    } else {\r\n      this.get()\r\n    }\r\n  }\r\n}\r\nexport default Watcher\r\n","import Dep from './observe/dep'\r\nimport { observer } from './observe/index'\r\nimport Watcher from './observe/watcher'\r\nimport { isObject } from './utils/index'\r\n\r\nexport function initState(vm) {\r\n  let options = vm.$options\r\n  if (options.data) {\r\n    initData(vm)\r\n  }\r\n  if (options.watch) {\r\n    initWatch(vm)\r\n  }\r\n  if (options.computed) {\r\n    initComputed(vm)\r\n  }\r\n}\r\n\r\nfunction initWatch(vm) {\r\n  let watch = vm.$options.watch\r\n  for (let k in watch) {\r\n    const handler = watch[k]\r\n    if (Array.isArray(handler)) {\r\n      handler.forEach((handle) => {\r\n        createWatcher(vm, k, handle)\r\n      })\r\n    } else {\r\n      createWatcher(vm, k, handler)\r\n    }\r\n  }\r\n}\r\n\r\nfunction initComputed(vm) {\r\n  const computed = vm.$options.computed\r\n  const watchers = (vm._computedWatchers = {})\r\n  for (let key in computed) {\r\n    let userDef = computed[key]\r\n    let getter = typeof userDef === 'function' ? userDef : userDef.get\r\n    watchers[key] = new Watcher(vm, getter, () => {}, { lazy: true })\r\n    defineComputed(vm, key, userDef)\r\n  }\r\n}\r\n\r\nfunction defineComputed(target, key, userDef) {\r\n  const setter = userDef.set || (() => {})\r\n  Object.defineProperty(target, key, {\r\n    enumerable: true,\r\n    configurable: true,\r\n    // 判断这个数据是不是脏的\r\n    get: createComputedGetter(key),\r\n    set: setter\r\n  })\r\n}\r\n\r\nfunction createComputedGetter(key) {\r\n  return function () {\r\n    const watcher = this._computedWatchers[key]\r\n    if (watcher.dirty) {\r\n      // 如果数据是脏的 就去执行用户传入的函数\r\n      watcher.evaluate()\r\n    }\r\n    if (Dep.target) {\r\n      //计算属性出栈后 还有渲染watcher\r\n      // 我应该让计算属性watcher里面的属性 也去收集上层watcher\r\n      watcher.depend()\r\n    }\r\n    return watcher.value\r\n  }\r\n}\r\n\r\nfunction createWatcher(vm, exprOrFn, handler, options = {}) {\r\n  if (isObject(handler)) {\r\n    options = handler //保存用户传入的对象\r\n    handler = handler.handler //这个代表真正用户传入的函数\r\n  }\r\n  if (typeof handler === 'string') {\r\n    handler = vm[handler]\r\n  }\r\n  return vm.$watch(exprOrFn, handler, options)\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data\r\n  if (isObject(data)) {\r\n    data = data\r\n  } else if (typeof data === 'function') {\r\n    data = data.call(vm)\r\n  } else {\r\n    console.error('data type error')\r\n    return false\r\n  }\r\n  vm._data = data\r\n\r\n  for (let key in data) {\r\n    proxy(vm, '_data', key)\r\n  }\r\n\r\n  observer(data)\r\n}\r\n\r\nfunction proxy(vm, source, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get() {\r\n      return vm[source][key]\r\n    },\r\n    set(newVal) {\r\n      return (vm[source][key] = newVal)\r\n    }\r\n  })\r\n}\r\n","import { isObject, isReservedTag } from '../utils/index'\r\n\r\nexport function createElementVNode(vm, tag, data, ...children) {\r\n  data = data || {}\r\n  if (isReservedTag(tag)) {\r\n    return vnode(vm, tag, data.key, data, children, undefined)\r\n  } else {\r\n    let Ctor = vm.$options.components[tag]\r\n    return createComponentVNode(vm, tag, data, data.key, children, Ctor)\r\n  }\r\n}\r\n\r\nfunction createComponentVNode(vm, tag, data, key, children, Ctor) {\r\n  // 局部组件定义不会被Vue.extend处理成为组件\r\n  if (isObject(Ctor)) {\r\n    // 处理局部组件\r\n    Ctor = vm.$options._base.extend(Ctor)\r\n  }\r\n  data.hook = {\r\n    init(vnode) {\r\n      //稍后创建真实节点的时候 如果是组件则调用此方法\r\n      let child = (vnode.componentInstance = new Ctor({ _isComponent: true })) //实例化组件\r\n      child.$mount() //因为没有传入el属性  需要手动挂载 为了在组件实例上面增加$el方法可用于生成组件的真实渲染节点\r\n    }\r\n  }\r\n  return vnode(vm, tag, key, data, children, null, { Ctor })\r\n}\r\n\r\nexport function createTextVNode(vm, text) {\r\n  return vnode(vm, undefined, undefined, undefined, undefined, text)\r\n}\r\n\r\nfunction vnode(vm, tag, key, data, children, text, componentOptions = {}) {\r\n  return {\r\n    vm,\r\n    tag,\r\n    key,\r\n    data,\r\n    children,\r\n    text,\r\n    componentOptions\r\n  }\r\n}\r\n\r\nexport function isSameVnode(vnode1, vnode2) {\r\n  return vnode1.tag === vnode2.tag && vnode1.key === vnode2.key\r\n}\r\n","import { isSameVnode } from './index'\r\n\r\nexport function patch(oldVnode, vnode) {\r\n  if (!oldVnode) {\r\n    // 组件的创建过程是没有el属性的\r\n    return createElm(vnode)\r\n  }\r\n  // console.log('oldVnode', oldVnode)\r\n  // console.log('vnode', vnode)\r\n  // 初次渲染\r\n  const isRealElement = oldVnode.nodeType\r\n  // console.log(isRealElement)\r\n  // 判断是不是真实元素\r\n  if (isRealElement) {\r\n    // 获取真实元素\r\n    const elm = oldVnode\r\n    // 拿到父元素\r\n    const parentElm = elm.parentNode\r\n    let newElm = createElm(vnode)\r\n    parentElm.insertBefore(newElm, elm.nexSibling)\r\n    parentElm.removeChild(elm)\r\n    return newElm\r\n  } else {\r\n    // diff\r\n    patchVnode(oldVnode, vnode)\r\n  }\r\n}\r\n\r\nfunction patchVnode(oldVnode, vnode) {\r\n  if (!isSameVnode(oldVnode, vnode)) {\r\n    // 新老节点不相同 直接用新的替换掉老的\r\n    let el = createElm(vnode)\r\n    oldVnode.el.parentNode.replaceChild(el, oldVnode.el)\r\n    return el\r\n  }\r\n  // 旧节点是一个文本\r\n  if (!oldVnode.tag) {\r\n    if (oldVnode.text !== vnode.text) {\r\n      oldVnode.el.textContent = vnode.text\r\n    }\r\n  }\r\n  // 不符合上面两种 代表新老标签一致 并且不是文本节点\r\n  // 为了节点复用 所以直接把旧的虚拟dom对应的真实dom赋值给新的虚拟dom的el属性\r\n  const el = (vnode.el = oldVnode.el)\r\n  // 更新属性\r\n  updateProperties(el, oldVnode.data, vnode.data)\r\n  // 比较子节点\r\n  let oldChildren = oldVnode.children || []\r\n  let newChildren = vnode.children || []\r\n  if (oldChildren.length > 0 && newChildren.length > 0) {\r\n    // diff核心\r\n    // 新老都存在子节点\r\n    updateChildren(el, oldChildren, newChildren)\r\n  } else if (newChildren.length > 0) {\r\n    // 老的没有儿子  新的有儿子  创建新的儿子\r\n    for (let i = 0; i < newChildren.length; i++) {\r\n      let child = newChildren[i]\r\n      el.appendChild(createElm(child))\r\n    }\r\n  } else if (oldChildren.length > 0) {\r\n    el.innerHTML = ''\r\n  }\r\n  return el\r\n}\r\n\r\nfunction updateChildren(el, oldChildren, newChildren) {\r\n  let oldStartIndex = 0\r\n  let newStartIndex = 0\r\n  let oldEndIndex = oldChildren.length - 1\r\n  let newEndIndex = newChildren.length - 1\r\n\r\n  let oldStartVnode = oldChildren[0]\r\n  let newStartVnode = newChildren[0]\r\n  let oldEndVnode = oldChildren[oldEndIndex]\r\n  let newEndVnode = newChildren[newEndIndex]\r\n  // 根据key来创建老的儿子的index映射表  类似 {'a':0,'b':1} 代表key为'a'的节点在第一个位置 key为'b'的节点在第二个位置\r\n  function makeIndexByKey(children) {\r\n    let map = {}\r\n    children.forEach((item, index) => {\r\n      map[item.key] = index\r\n    })\r\n    return map\r\n  }\r\n  // 根据旧的节点生成 key和index的映射表 用于乱序比对\r\n  let map = makeIndexByKey(oldChildren)\r\n  // 只有当新老儿子的双指标的起始位置不大于结束位置的时候  才能循环 一方停止了就需要结束循环\r\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\r\n    // 因为乱序对比过程把移动的vnode置为 undefined 如果不存在vnode节点 直接跳过\r\n    if (!oldStartVnode) {\r\n      oldStartVnode = oldChildren[++oldStartIndex]\r\n    } else if (!oldEndVnode) {\r\n      oldEndVnode = oldChildren[--oldEndIndex]\r\n    } else if (isSameVnode(oldStartVnode, newStartVnode)) {\r\n      // 头头比较\r\n      // 递归比较儿子及儿子的子节点\r\n      patch(oldStartVnode, newStartVnode)\r\n      oldStartVnode = oldChildren[++oldStartIndex]\r\n      newStartVnode = newChildren[++newStartIndex]\r\n    } else if (isSameVnode(oldEndVnode, newEndVnode)) {\r\n      // 尾尾比较\r\n      patch(oldEndVnode, newEndVnode)\r\n      oldEndVnode = oldChildren[--oldEndIndex]\r\n      newEndVnode = newChildren[--newEndIndex]\r\n    } else if (isSameVnode(oldStartVnode, newEndVnode)) {\r\n      // 交叉比对 老的头和新的尾比较  abcd=>\r\n      //                            dcba\r\n      patch(oldStartVnode, newEndVnode)\r\n      el.insertBefore(oldStartVnode.el, oldEndVnode.el.nexSibling)\r\n      oldStartVnode = oldChildren[++oldStartIndex]\r\n      newEndVnode = newChildren[--newEndIndex]\r\n    } else if (isSameVnode(oldEndVnode, newStartVnode)) {\r\n      // 交叉比对 旧的尾和新的头比较  abcd =>\r\n      //                            dcba\r\n      patch(oldEndVnode, newStartVnode)\r\n      el.insertBefore(oldEndVnode.el, oldStartVnode.el)\r\n      oldEndVnode = oldChildren[--oldEndIndex]\r\n      newStartVnode = newChildren[++newStartIndex]\r\n    } else {\r\n      let moveIndex = map[newStartVnode.key]\r\n      if (moveIndex !== undefined) {\r\n        let moveVnode = oldChildren[moveIndex]\r\n        oldChildren[moveIndex] = undefined\r\n        el.insertBefore(moveVnode.el, oldStartVnode.el)\r\n        patch(moveVnode, oldStartVnode)\r\n      } else {\r\n        el.insertBefore(createElm(newStartVnode), oldStartVnode.el)\r\n      }\r\n      newStartVnode = newChildren[++newStartIndex]\r\n    }\r\n  }\r\n  // 如果老节点循环完毕了 但是新节点还有  证明  新节点需要被添加到头部或者尾部\r\n  if (newStartIndex <= newEndIndex) {\r\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\r\n      let childEl = createElm(newChildren[i])\r\n      let anchor = newChildren[newEndIndex + 1]\r\n        ? newChildren[newEndIndex + 1].el\r\n        : null\r\n      //anchor为null的时候 等同于appendChild\r\n      el.insertBefore(childEl, anchor)\r\n    }\r\n  }\r\n  // 如果新节点循环完毕 老节点还有  证明老的节点需要直接被删除\r\n  if (oldStartIndex <= oldEndIndex) {\r\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\r\n      let childEl = oldChildren[i].el\r\n      el.removeChild(childEl)\r\n    }\r\n  }\r\n}\r\n// 判断是不是组件\r\nfunction createComponent(vnode) {\r\n  // 初始化组件\r\n  // 创建组件实例\r\n  let i = vnode.data\r\n  // 调用组件data.hook.init方法进行组件初始化过程 最终组件的vnode.componentInstance.$el就是组件渲染好的真实dom\r\n  if ((i = i.hook) && (i = i.init)) {\r\n    i(vnode)\r\n  }\r\n  // 如果组件实例化完毕有componentInstance属性 那证明是组件\r\n  if (vnode.componentInstance) {\r\n    return true\r\n  }\r\n}\r\n\r\nexport function createElm(vnode) {\r\n  let { tag, data, children, text } = vnode\r\n  // 通过 tag 判断当前节点是元素 or 文本,判断逻辑：文本 tag 是 undefined\r\n  if (typeof tag === 'string') {\r\n    if (createComponent(vnode)) {\r\n      // 如果是组件 返回真实组件渲染的真实dom\r\n      return vnode.componentInstance.$el\r\n    }\r\n    vnode.el = document.createElement(tag) // 创建元素的真实节点\r\n    // 处理 data 属性\r\n    updateProperties(vnode.el, {}, data)\r\n    // 继续处理元素的儿子：递归创建真实节点并添加到对应的父亲上\r\n    children.forEach((child) => {\r\n      // 若不存在儿子，children为空数组，循环终止\r\n      vnode.el.appendChild(createElm(child))\r\n    })\r\n  } else {\r\n    vnode.el = document.createTextNode(text) // 创建文本的真实节点\r\n  }\r\n  return vnode.el\r\n}\r\n\r\nfunction updateProperties(el, oldProps = {}, props = {}) {\r\n  let oldStyles = oldProps.style || {}\r\n  let newStyles = props.style || {}\r\n  for (let key in oldStyles) {\r\n    if (!newStyles[key]) {\r\n      el.style[key] = ''\r\n    }\r\n  }\r\n  for (let key in oldProps) {\r\n    if (!props[key]) {\r\n      el.removeAttribute(key)\r\n    }\r\n  }\r\n  for (let key in props) {\r\n    if (key === 'style') {\r\n      for (let styleName in props.style) {\r\n        el.style[styleName] = props.style[styleName]\r\n      }\r\n    } else {\r\n      el.setAttribute(key, props[key])\r\n    }\r\n  }\r\n}\r\n","import Watcher from './observe/watcher'\r\nimport { isObject } from './utils/index'\r\nimport { createElementVNode, createTextVNode } from './vdom/index'\r\nimport { patch } from './vdom/patch'\r\n\r\nexport function renderMixin(Vue) {\r\n  Vue.prototype._c = function () {\r\n    // createElement 创建元素型的节点\r\n    return createElementVNode(this, ...arguments)\r\n  }\r\n  Vue.prototype._v = function () {\r\n    // 创建文本的虚拟节点\r\n    return createTextVNode(this, ...arguments)\r\n  }\r\n  Vue.prototype._s = function (val) {\r\n    // JSON.stringify\r\n    if (isObject(val)) {\r\n      // 是对象，转成字符串\r\n      return JSON.stringify(val)\r\n    } else {\r\n      // 不是对象，直接返回\r\n      return val\r\n    }\r\n  }\r\n\r\n  Vue.prototype._update = function (vnode) {\r\n    // this.$el = patch(this.$el, vnode)\r\n    let vm = this\r\n    const prevVnode = vm._vnode\r\n    vm._vnode = vnode\r\n    if (!prevVnode) {\r\n      vm.$el = patch(vm.$el, vnode)\r\n    } else {\r\n      vm.$el = patch(prevVnode, vnode)\r\n    }\r\n  }\r\n  Vue.prototype._render = function () {\r\n    const vm = this\r\n    return vm.$options.render.call(vm)\r\n  }\r\n}\r\n\r\nexport function mountComponent(vm, el) {\r\n  let updateComponent = () => {\r\n    vm._update(vm._render())\r\n  }\r\n  callHook(vm, 'beforeMount')\r\n  new Watcher(vm, updateComponent, () => {}, true)\r\n  // 当视图挂载完成，调用钩子: mounted\r\n  callHook(vm, 'mounted')\r\n}\r\n//从$options取对应的生命周期函数数组并执行\r\nexport function callHook(vm, hook) {\r\n  // 获取生命周期对应函数数组\r\n  let handlers = vm.$options[hook]\r\n  if (handlers) {\r\n    handlers.forEach((fn) => {\r\n      fn.call(vm) // 生命周期中的 this 指向 vm 实例\r\n    })\r\n  }\r\n}\r\n","import { compileToFunction } from './compile/index'\r\nimport { initState } from './initState'\r\nimport { callHook, mountComponent } from './lifecycle'\r\nimport { mergeOptions } from './utils/index'\r\n\r\nexport function initMixin(Vue) {\r\n  Vue.prototype.__init = function (options) {\r\n    let vm = this\r\n    // vm.$options = options\r\n    // 此时需使用 options 与 mixin 合并后的全局 options 再进行一次合并\r\n    // console.log(vm.constructor.options, options)\r\n    vm.$options = mergeOptions(vm.constructor.options, options)\r\n    // console.log(vm.$options)\r\n    callHook(vm, 'beforeCreate')\r\n    initState(vm)\r\n    callHook(vm, 'created')\r\n    if (vm.$options.el) {\r\n      vm.$mount(vm.$options.el)\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function (el) {\r\n    let vm = this\r\n    el = document.querySelector(el)\r\n    vm.$el = el\r\n    let options = vm.$options\r\n    if (!options.render) {\r\n      let template = options.template\r\n      if (!template && el) {\r\n        template = el.outerHTML\r\n      }\r\n      let render = compileToFunction(template)\r\n      options.render = render\r\n    }\r\n    mountComponent(vm, el)\r\n  }\r\n}\r\n","import Watcher from '../observe/watcher'\r\n\r\nexport function initWatch(Vue) {\r\n  Vue.prototype.$watch = function (exprOrFn, cb, options) {\r\n    const vm = this\r\n    new Watcher(vm, exprOrFn, cb, { ...options, user: true })\r\n    // 如果有immediate属性 代表需要立即执行回调\r\n    if (options && options.immediate) {\r\n      cb() //如果立刻执行\r\n    }\r\n  }\r\n}\r\n","import { toArray } from '../utils/index'\r\n\r\nexport function initUse(Vue) {\r\n  Vue.use = function (plugin) {\r\n    const installedPlugins =\r\n      this._installedPlugins || (this._installedPlugins = [])\r\n    if (installedPlugins.indexOf(plugin) > -1) {\r\n      // 如果这个插件安装过 就直接返回\r\n      return this\r\n    }\r\n    // 伪数组转真数组\r\n    const args = toArray(arguments, 1)\r\n    args.unshift(this) //在参数中添加vue的构造函数\r\n    // 把自身 Vue 传到插件的 install 方法 这样可以避免第三方插件强依赖 Vue\r\n    if (typeof plugin.install === 'function') {\r\n      plugin.install.apply(plugin, args) //执行install方法\r\n    } else if (typeof plugin === 'function') {\r\n      plugin.apply(null, args) //没有install方法直接把传入的插件执行\r\n    }\r\n\r\n    // 记录安装的插件\r\n    installedPlugins.push(plugin)\r\n    return this\r\n  }\r\n}\r\n","import { initGlobalAPI } from './global-api/index'\r\nimport { initMixin } from './init'\r\nimport { renderMixin } from './lifecycle'\r\nimport { nextTick } from './utils/next-tick'\r\nimport { compileToFunction } from './compile/index'\r\nimport { createElm, patch } from './vdom/patch'\r\nimport { initWatch } from './utils/watch'\r\nimport { set } from './observe/index'\r\nimport { initUse } from './global-api/use'\r\n\r\nfunction Vue(options) {\r\n  this.__init(options)\r\n}\r\n\r\ninitMixin(Vue)\r\nrenderMixin(Vue)\r\ninitGlobalAPI(Vue)\r\ninitWatch(Vue)\r\ninitUse(Vue)\r\nVue.prototype.$nextTick = nextTick\r\nVue.$set = set\r\nexport default Vue\r\n\r\n/*\r\nwindow.onload = function () {\r\n  let render1 = compileToFunction(`\r\n  <ul style = \"color:red\">\r\n    <li key = 'a'>a</li>\r\n    <li key=\"b\">b</li>\r\n    <li key=\"c\">c</li>\r\n  </ul>`)\r\n  let vm1 = new Vue({ data: { name: 'zx' } })\r\n  let prevVnode = render1.call(vm1)\r\n  let el = createElm(prevVnode)\r\n  document.body.appendChild(el)\r\n\r\n  let render2 = compileToFunction(`\r\n  <ul  style = \"color:red\">\r\n    <li key=\"a\">a</li>\r\n    <li key=\"b\">b</li>\r\n    <li key=\"c\">c</li>\r\n    <li key=\"d\">d</li>\r\n  </ul>`)\r\n  let vm2 = new Vue({ data: { name: 'xm' } })\r\n  let nextVnode = render2.call(vm2)\r\n\r\n  setTimeout(() => {\r\n    patch(prevVnode, nextVnode)\r\n  }, 1000)\r\n}\r\n*/\r\n"],"names":["isObject","data","LIFECYCLE_HOOKS","strats","forEach","hook","parentVal","childVal","concat","Array","isArray","components","res","Object","create","k","mergeOptions","options","key","mergeFiled","hasOwnProperty","isReservedTag","tagName","str","obj","split","tag","toArray","list","start","i","length","initGlobalAPI","Vue","_base","mixin","cid","extend","Super","Sub","__init","prototype","constructor","component","id","definition","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","defaultTagRE","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","stack","root","currentParent","createASTElement","attrs","type","children","parent","node","push","end","pop","chars","text","replace","advance","n","substring","parseStartTag","match","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","gen","codegen","test","JSON","stringify","lastIndex","tokens","exec","index","slice","trim","join","genChildren","map","child","genProps","item","ast","code","compileToFunction","el","render","Function","Dep","subs","target","addDep","watcher","update","targetStack","pushTarget","popTarget","oldArrayMethods","ArrayMethods","methods","method","args","result","call","ob","__ob__","inserted","observerArray","dep","notify","observer","Observer","defineProperty","enumerable","writable","configurable","__proto__","walk","keys","defineReactive","dependArray","current","depend","childOb","get","set","newVal","Math","max","splice","console","log","callBacks","pending","flushCallbacks","cbs","cb","timerFunc","Promise","p","resolve","then","MutationObserver","counter","textNode","document","createTextNode","String","observe","characterData","setImmediate","setTimeout","nextTick","queue","has","queueWatcher","flushSchedulerQueue","flushQueue","q","run","Watcher","vm","exprOrFn","deps","depsId","Set","user","lazy","dirty","getter","path","undefined","add","addSub","oldVal","initState","$options","initData","watch","initWatch","computed","initComputed","handler","handle","createWatcher","watchers","_computedWatchers","userDef","defineComputed","setter","createComputedGetter","evaluate","$watch","error","_data","proxy","source","createElementVNode","vnode","Ctor","createComponentVNode","init","componentInstance","_isComponent","$mount","createTextVNode","componentOptions","isSameVnode","vnode1","vnode2","patch","oldVnode","createElm","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nexSibling","removeChild","patchVnode","replaceChild","textContent","updateProperties","oldChildren","newChildren","updateChildren","appendChild","innerHTML","oldStartIndex","newStartIndex","oldEndIndex","newEndIndex","oldStartVnode","newStartVnode","oldEndVnode","newEndVnode","makeIndexByKey","moveIndex","moveVnode","childEl","anchor","createComponent","$el","createElement","oldProps","props","oldStyles","style","newStyles","removeAttribute","styleName","setAttribute","renderMixin","_c","arguments","_v","_s","val","_update","prevVnode","_vnode","_render","mountComponent","updateComponent","callHook","handlers","fn","initMixin","querySelector","template","outerHTML","immediate","initUse","use","plugin","installedPlugins","_installedPlugins","unshift","install","apply","$nextTick","$set"],"mappings":"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"}